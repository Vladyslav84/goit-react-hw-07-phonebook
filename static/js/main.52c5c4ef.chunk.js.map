{"version":3,"sources":["components/ContactForm/ContactForm.module.css","components/ContactList/ContactList.module.css","App.module.css","components/Filter/Filter.module.css","api/api.js","redux/operations.js","redux/selectors.js","components/ContactForm/ContactForm.jsx","redux/slices/filter.js","components/Filter/Filter.jsx","components/ContactList/ContactList.jsx","App.js","redux/store.js","redux/slices/contacts.js","index.js"],"names":["module","exports","fetcContacts","a","axios","get","response","data","postContacts","newContact","post","deleteContacts","delete","defaults","baseURL","createAsyncThunk","api","contactsFromDB","id","getContacts","state","contactsSlice","entities","filteredSelector","createSelector","filterSlice","contacts","filterValue","filter","contact","name","toLocaleLowerCase","includes","ContactForm","dispatch","useDispatch","allContacts","useSelector","numberInputId","uuidv4","nameInputId","onSubmit","evt","preventDefault","some","target","elements","inputName","value","alert","operations","number","inputNumber","reset","className","s","form","formItem","autoComplete","type","pattern","title","required","btn","createSlice","initialState","reducers","_","payload","actions","Filter","onChange","currentTarget","ContactList","useEffect","filteredContactList","contactList","map","user","contactitem","onClick","App","container","length","rootReducer","status","error","extraReducers","fulfilled","action","pending","rejected","item","store","configureStore","reducer","devTools","process","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.52c5c4ef.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ContactForm_form__25xJC\",\"formItem\":\"ContactForm_formItem__290oU\",\"btn\":\"ContactForm_btn__2q6dz\",\"number\":\"ContactForm_number__1RZ2o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactList\":\"ContactList_contactList__3NRhL\",\"btn\":\"ContactList_btn__2HQx8\",\"contactitem\":\"ContactList_contactitem__w5wmI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__10QHA\",\"title\":\"App_title__2HGxw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"Filter_filter__254X5\"};","import axios from 'axios';\r\n\r\n    axios.defaults.baseURL = 'http://localhost:3003';\r\n   \r\n    export async function fetcContacts ()  {\r\n        const response = await axios.get(`/contacts`);\r\n         return response.data;\r\n};\r\n\r\n    export async function postContacts (newContact)  {\r\n        const response = await axios.post(`/contacts`, (newContact))\r\n         return response.data;\r\n};\r\n\r\n    export async function deleteContacts (deleteContacts)  {\r\n        const response = await axios.delete(`/contacts/${deleteContacts}` );\r\n         return response.data;\r\n};\r\n","import * as api from '../api/api'\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nexport const fetcContacts = createAsyncThunk(\r\n  'contacts/fetcContacts',\r\n  async () => {\r\n    try {\r\n      const contactsFromDB = await api.fetcContacts();\r\n      return contactsFromDB;\r\n    } catch (error) {\r\n      return (error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const postContacts = createAsyncThunk(\r\n  'contacts/postContacts',\r\n  async (newContact) => {\r\n    try {\r\n      const contactsFromDB = await api.postContacts(newContact);\r\n      return contactsFromDB;\r\n    } catch (error) {\r\n      return (error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const deleteContacts = createAsyncThunk(\r\n  'contacts/deleteContacts',\r\n  async (id) => {\r\n    try {\r\n     await api.deleteContacts(id);\r\n      return id;\r\n    } catch (error) {\r\n      return (error);\r\n    }\r\n  },\r\n);\r\n","import { createSelector } from 'reselect';\r\n\r\nexport const getContacts = state => state.contactsSlice.entities;\r\nexport const getFilter = state => state.filterSlice;\r\n\r\nexport const filteredSelector = createSelector(\r\n  [getContacts, getFilter],\r\n  (contacts, filterValue) =>\r\n    contacts.filter(contact =>\r\n    contact.name.toLocaleLowerCase().includes(filterValue)),\r\n);\r\n\r\n ","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport s from './ContactForm.module.css';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport * as operations from '../../redux/operations';\r\nimport { getContacts } from '../../redux/selectors';\r\n\r\nexport default function ContactForm() {\r\n    const dispatch = useDispatch();\r\n    const allContacts = useSelector(getContacts);\r\n\r\n    const handleSubmit = evt => {\r\n\r\n        evt.preventDefault();\r\n        if (allContacts.some(contact => contact.name === evt.target.elements.inputName.value))\r\n        {\r\n            alert(`${ evt.target.elements.inputName.value } is already in contacts`)\r\n        } else\r\n        {\r\n            dispatch(operations.postContacts({\r\n                name: evt.target.elements.inputName.value,\r\n                number: evt.target.elements.inputNumber.value,\r\n            }))\r\n        };\r\n        evt.target.reset();\r\n    };\r\n\r\n    const numberInputId = uuidv4();\r\n    const nameInputId = uuidv4();\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className={s.form}>\r\n            <span>Name</span>\r\n            <label className={s.formItem}>\r\n                <input\r\n                    autoComplete=\"off\"\r\n                    type=\"text\"\r\n                    name=\"inputName\"\r\n                    pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n                    title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n                    required\r\n                    id={nameInputId}\r\n                />\r\n            </label>\r\n            <span className={s.number}>Number</span>\r\n            <label className={s.formItem}>\r\n                <input\r\n                    autoComplete=\"off\"\r\n                    type=\"tel\"\r\n                    name=\"inputNumber\"\r\n                    pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n                    title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n                    required\r\n                    id={numberInputId}\r\n                />\r\n            </label>\r\n            <button type=\"submit\" className={s.btn}>Add contact</button>\r\n        </form>\r\n    )\r\n}","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst filterSlice = createSlice({\n    name: 'filter',\n    initialState: '',\n    reducers: {\n        filter: (_, {payload}) => payload,\n       \n           }\n});\n\nexport const { filter } = filterSlice.actions;\n\nexport default filterSlice.reducer;","import React from \"react\";\nimport s from './Filter.module.css';\nimport { useDispatch } from 'react-redux';\nimport { filter } from '../../redux/slices/filter';\n\nexport default function Filter () {\nconst dispatch = useDispatch();\n    return (\n        <div>\n            <p className={s.title}>Find contacts by name</p>\n            <label>\n                <input type=\"text\" onChange={(evt) => dispatch(filter(evt.currentTarget.value.toLocaleLowerCase()))}></input>\n            </label>\n        </div>\n    )\n};\n\n","import React, { useEffect } from 'react';\r\nimport s from './ContactList.module.css';\r\nimport {  useSelector, useDispatch } from 'react-redux';\r\nimport { filteredSelector } from '../../redux/selectors';\r\nimport * as operations from '../../redux/operations';\r\n\r\nexport default function ContactList  ()  {\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => dispatch(operations.fetcContacts()), [dispatch]);\r\n  const filteredContactList = useSelector(filteredSelector);\r\n \r\n  return (\r\n    <ul className={s.contactList}>\r\n      {filteredContactList.map((user) => (\r\n             \r\n        <li key={user.id} className={s.contactitem} >\r\n          <span>{user.name} {user.number}</span>\r\n          <button type='button' className={s.btn}\r\n            onClick={() => dispatch(operations.deleteContacts(user.id))}\r\n          >Delete</button>\r\n          \r\n        </li>\r\n      ))\r\n      } \r\n    </ul>\r\n  )\r\n}","import ContactForm from './components/ContactForm/ContactForm';\r\nimport Filter from './components/Filter/Filter';\r\nimport ContactList from './components/ContactList/ContactList';\r\nimport s from './App.module.css';\r\nimport { useSelector } from 'react-redux';\r\nimport {getContacts} from './redux/selectors';\r\n\r\nexport default function App() {\r\nconst allContacts = useSelector(getContacts);\r\n  return (\r\n    <div className={s.container}>\r\n      <h1 className={s.title}>Phonebook</h1>\r\n      <ContactForm />\r\n      {allContacts.length > 0 && <h2 className={s.title}>Contacts</h2>}\r\n      {allContacts.length > 0 && <Filter />}\r\n      <ContactList />\r\n    </div>\r\n  );\r\n}","import { configureStore } from '@reduxjs/toolkit';\r\nimport contactsSlice from './slices/contacts';\r\nimport filterSlice from './slices/filter';\r\n\r\nconst rootReducer = {\r\n  contactsSlice,\r\n  filterSlice\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: \r\n    rootReducer,\r\n  devTools: process.env.NODE_ENV !== \"production\",\r\n});\r\n\r\nexport default store;","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport * as operations from '../operations';\r\n\r\nconst contactsSlice = createSlice({\r\n      name: 'contacts',\r\n    initialState: {\r\n        entities: [],\r\n        status: null,\r\n        error: null,},\r\n    extraReducers: {\r\n        [operations.fetcContacts.fulfilled](state, action) { \r\n            return {\r\n                ...state,\r\n                entities: [...state.entities, ...action.payload],\r\n                status: null,\r\n                error: null,\r\n            }\r\n        },\r\n       [operations.fetcContacts.pending](state, action) { \r\n            return {\r\n                ...state,\r\n                status: 'Loading',\r\n                error: null,\r\n            }\r\n        },\r\n        [operations.fetcContacts.rejected](state, action) { \r\n            return {\r\n                ...state,\r\n                status: null,\r\n                error: 'Error',\r\n            }\r\n        },\r\n        [operations.postContacts.fulfilled](state, action) { \r\n            return { \r\n                ...state,\r\n                entities: [...state.entities, action.payload],\r\n                status: null,\r\n                error: null,\r\n            }\r\n        },\r\n        [operations.postContacts.pending](state, action) { \r\n            return {\r\n                ...state,\r\n                status: 'Loading',\r\n            }\r\n        },\r\n        [operations.postContacts.rejected](state, action) { \r\n            return {\r\n                ...state,\r\n                status: null,\r\n                error: 'Error',\r\n            }\r\n        },\r\n        [operations.deleteContacts.fulfilled](state, action) {\r\n            return {\r\n                ...state,\r\n                entities: state.entities.filter((item) => item.id !== action.payload),\r\n                status: null,\r\n                error: null,\r\n            }\r\n        },\r\n       [operations.deleteContacts.pending](state, action) { \r\n            return {\r\n                ...state,\r\n                status: 'Loading',\r\n                error: null,\r\n            }\r\n        },\r\n        [operations.deleteContacts.rejected](state, action) { \r\n            return {\r\n                ...state,\r\n                status: null,\r\n                error: 'Error',\r\n            }\r\n        },\r\n    }\r\n});\r\n\r\nexport default contactsSlice.reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './redux/store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}